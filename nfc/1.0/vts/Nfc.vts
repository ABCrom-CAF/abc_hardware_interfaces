component_class: HAL_HIDL
component_type_version: 1.0
component_name: "INfc"

package: "android.hardware.nfc"

import: "android.hardware.nfc@1.0::INfcClientCallback"
import: "android.hardware.nfc@1.0::types"

interface: {
    api: {
        name: "open"
        return_type_hidl: {
            type: TYPE_ENUM
            predefined_type: "::android::hardware::nfc::V1_0::NfcStatus"
        }
        arg: {
            type: TYPE_HIDL_CALLBACK
            predefined_type: "INfcClientCallback"
            is_callback: true
        }
        callflow: {
            entry: true
        }
        callflow: {
            next: "write"
            next: "coreInitialized"
            next: "prediscover"
            next: "powerCycle"
            next: "controlGranted"
        }
    }

    api: {
        name: "write"
        return_type_hidl: {
            type: TYPE_SCALAR
            scalar_type: "uint32_t"
        }
        arg: {
            type: TYPE_VECTOR
            vector_value: {
                type: TYPE_SCALAR
                scalar_type: "uint8_t"
            }
        }
        callflow: {
            next: "write"
            next: "prediscover"
            next: "coreInitialized"
            next: "close"
            next: "powerCycle"
            next: "controlGranted"
        }
    }

    api: {
        name: "coreInitialized"
        return_type_hidl: {
            type: TYPE_ENUM
            predefined_type: "::android::hardware::nfc::V1_0::NfcStatus"
        }
        arg: {
            type: TYPE_VECTOR
            vector_value: {
                type: TYPE_SCALAR
                scalar_type: "uint8_t"
            }
        }
        callflow: {
            next: "write"
            next: "prediscover"
            next: "close"
        }
    }

    api: {
        name: "prediscover"
        return_type_hidl: {
            type: TYPE_ENUM
            predefined_type: "::android::hardware::nfc::V1_0::NfcStatus"
        }
        callflow: {
            next: "write"
            next: "close"
            next: "coreInitialized"
            next: "powerCycle"
            next: "controlGranted"
        }
        callflow: {
            next: "write"
            next: "close"
            next: "coreInitialized"
            next: "powerCycle"
            next: "controlGranted"
        }
    }

    api: {
        name: "close"
        return_type_hidl: {
            type: TYPE_ENUM
            predefined_type: "::android::hardware::nfc::V1_0::NfcStatus"
        }
        callflow: {
            exit: true
        }
        callflow: {
            exit: true
        }
    }

    api: {
        name: "controlGranted"
        return_type_hidl: {
            type: TYPE_ENUM
            predefined_type: "::android::hardware::nfc::V1_0::NfcStatus"
        }
        callflow: {
            next: "write"
            next: "close"
            next: "prediscover"
            next: "coreInitialized"
            next: "powerCycle"
        }
        callflow: {
            next: "write"
            next: "close"
            next: "prediscover"
            next: "coreInitialized"
            next: "powerCycle"
        }
    }

    api: {
        name: "powerCycle"
        return_type_hidl: {
            type: TYPE_ENUM
            predefined_type: "::android::hardware::nfc::V1_0::NfcStatus"
        }
        callflow: {
            next: "write"
            next: "coreInitialized"
            next: "prediscover"
            next: "controlGranted"
            next: "close"
        }
        callflow: {
            next: "write"
            next: "coreInitialized"
            next: "prediscover"
            next: "controlGranted"
            next: "close"
        }
    }

}
